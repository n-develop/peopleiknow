@{
    ViewData["Title"] = "Dashboard";
}

<div id="people-feed" class="column is-4-desktop is-full-mobile feed">
    @await Component.InvokeAsync("ContactList")
</div>

<div id="people-pane" class="column is-8-desktop is-hidden-mobile pane">
    <div class="columns is-desktop is-vcentered" style="height: 100%;">
        <div class="column">
            <h2 class="has-text-centered">Choose a Contact from the list!</h2>
        </div>
    </div>
</div>

<button id="add-button" class="button is-success is-large" onclick="addContact()">
    <i class="fa fa-plus-circle"></i>
</button>

<div class="modal" id="confirm-modal">
    <div class="modal-background"></div>
    <div class="modal-content">
        <article class="message is-info">
            <div class="message-header">
                Are you sure?
                <button class="delete"></button>
            </div>
            <div class="message-body">
                <p id="confirm-message">
                    Are you sure, that you want to delete this contact?<br/>
                </p>
                <p class="is-">
                    <a class="button is-info">Yes</a>
                    <a class="button is-danger">No</a>
                </p>
            </div>
        </article>
    </div>
</div>

<div class="modal" id="successfully-saved-modal">
    <div class="modal-background"></div>
    <div class="modal-content">
        <div class="notification is-success">
            <h3 class="title is-3">✔️ Successfully saved!</h3>
        </div>
    </div>
</div>

<div class="modal" id="successfully-deleted-modal">
    <div class="modal-background"></div>
    <div class="modal-content">
        <div class="notification is-info">
            <h3 class="title is-3">✔️ Successfully deleted!</h3>
        </div>
    </div>
</div>

@section Scripts
{
    <environment include="Development">
        <script src="~/js/dashboard.js" asp-append-version="true"></script>
    </environment>
    <environment exclude="Development">
        <script src="~/js/dashboard.min.js" asp-append-version="true"></script>
    </environment>
    <script>
        window.onresize = function() {
            const feed = document.getElementById('people-feed');
            const pane = document.getElementById('people-pane');
            feed.style.height = (window.innerHeight - document.getElementById('top').offsetHeight) + "px";
            pane.style.height = (window.innerHeight - document.getElementById('top').offsetHeight) + "px";
        }

        window.onload = function() {
            const feed = document.getElementById('people-feed');
            const pane = document.getElementById('people-pane');
            feed.style.height = (window.innerHeight - document.getElementById('top').offsetHeight) + "px";
            pane.style.height = (window.innerHeight - document.getElementById('top').offsetHeight) + "px";
        }
    </script>

}